import{a as _}from"./travelApi-BShbh9cL.js";import{h as y,l as w,b as i,o as u,j as m,d as e,k as n,f as x,q as f,e as b,t as g,a as k,c as C,r as V,m as I,F as N,p as $,i as B}from"./index-CdjjF2b5.js";import"./index-CTpYZ6Sk.js";const L={class:"card",style:{width:"100%"}},R=["src","alt"],T={class:"card-body"},j={class:"card-title"},F={class:"card-text"},P={__name:"TravelCard",props:{travel:{type:Object,required:!0}},setup(a){const s=y();return(p,l)=>{const c=w("router-link");return u(),i("div",L,[m(c,{to:{name:"travel/detail",params:{no:a.travel.no},query:f(s).query}},{default:n(()=>[a.travel.images&&a.travel.images.length?(u(),i("img",{key:0,class:"card-img-top",src:a.travel.images[0].url,alt:a.travel.title},null,8,R)):x("",!0)]),_:1},8,["to"]),e("div",T,[e("h5",j,[m(c,{to:{name:"travel/detail",params:{no:a.travel.no},query:f(s).query}},{default:n(()=>[b(g(a.travel.title),1)]),_:1},8,["to"])]),e("p",F,g(a.travel.description?a.travel.description.substring(0,250):""),1)])])}}},D={class:""},E={class:"row"},O={class:"mt-5 flex-grow-1 text-center"},A={__name:"TravelListPage",setup(a){const s=y(),p=B(),l=k({}),c=C(()=>l.value.list),o=V({page:parseInt(s.query.page)||1,amount:parseInt(s.query.amount)||12}),h=async r=>{p.push({query:{page:r,amount:o.amount}})};I(s,async r=>{o.page=parseInt(s.query.page),o.amount=parseInt(s.query.amount),await v(o)});const v=async r=>{try{l.value=await _.getList(r),console.log(l.value)}catch{}};return v(o),(r,t)=>{const q=w("vue-awesome-paginate");return u(),i("div",null,[t[5]||(t[5]=e("h1",{class:"mb-3"},[e("i",{class:"fa-solid fa-person-walking-luggage"}),b(" 여행지 목록 ")],-1)),e("div",D,"총 "+g(l.value.totalCount)+"건",1),e("div",E,[(u(!0),i(N,null,$(c.value,d=>(u(),i("div",{class:"col-sm-12 col-md-6 col-lg-4 col-xl-3 mb-3",key:d.no},[m(P,{travel:d},null,8,["travel"])]))),128))]),e("div",O,[m(q,{"total-items":l.value.totalCount,"items-per-page":o.amount,"max-pages-shown":5,"show-ending-buttons":!0,modelValue:o.page,"onUpdate:modelValue":t[0]||(t[0]=d=>o.page=d),onClick:h},{"first-page-button":n(()=>t[1]||(t[1]=[e("i",{class:"fa-solid fa-backward-fast"},null,-1)])),"prev-button":n(()=>t[2]||(t[2]=[e("i",{class:"fa-solid fa-caret-left"},null,-1)])),"next-button":n(()=>t[3]||(t[3]=[e("i",{class:"fa-solid fa-caret-right"},null,-1)])),"last-page-button":n(()=>t[4]||(t[4]=[e("i",{class:"fa-solid fa-forward-fast"},null,-1)])),_:1},8,["total-items","items-per-page","modelValue"])])])}}};export{A as default};
